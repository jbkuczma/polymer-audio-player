<link rel="import" href="bower_components/polymer/polymer.html">

<!--
`polymer-audio-player`
audio player made with polymer

@demo demo/index.html 
-->

<dom-module id="polymer-audio-player">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
      }

      #left, #right {
        height: 50px;
        width: 50px;
        position: relative;
      }

      /* play button color */
      #left {
        background-color: darkorange;
      }

      .layout-horizontal {
        display: flex;
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      }

      .flex {
        -ms-flex: 1;
        -webkit-flex: 1;
        flex: 1;
      }

      .self-start {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      }

      .self-end {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      }

      /* Text on audio player */
      #title {
        position: absolute; 
        color: darkorange; 
        font-size: 15px; 
        text-align: center; 
        line-height: 50px; 
        z-index: 2; 
      }

      #wrapper {
        position: relative; 
        box-shadow: 0 1px 2px rgba(0, 0, 0, .3); 
        cursor: pointer; 
      }

      .fit { 
        position: absolute; 
        margin: auto; 
        top: 0; 
        right: 0; 
        bottom: 0; 
        left: 0; 
      }

    </style>
    <div id="wrapper" class="layout-horizontal" on-click="playPause">
      <div id="left" class="self-start">

      </div>
      <div class="flex">
        <div id="title" class="fit">
          {{title}}
        </div>
        <audio id="audio" src="{{src}}"> </audio>
      </div>
      <div id="right" class="self-end">

      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: 'polymer-audio-player',

      properties: {
        title: {
          type: String,
          value: 'polymer-audio-player',
        },
        src: {
          type: String
        }
      },

      playPause: function(event) {
        event.preventDefault()
        var player = this
        player.$.audio.paused ? player.$.audio.play() : player.$.audio.pause()
      }

    });
  </script>
</dom-module>
